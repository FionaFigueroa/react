<style>
    .app-container {
        width: 370px;

    }

    .calculator{
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        border: 1px solid black;
    }

    .display {
        grid-column-start: 1;
        grid-column-end: 5;
        text-align: end;
        font-size: 40px;
        border: 1px solid black;
        padding-right: 10px;
        padding-top: 5px;
        height: 50px;
       
    }

    button {
        height: 50px;
        background-color: white;
        border: 1px solid black;
      
    }

    button.operator {
        background-color: darkgray;

    }
</style>



<div id="app"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
    // const hello = React.createElement('hi', {},  ' Hello React!');
    //const hello = (
    //<div> 
    //<h1>Hello React! 123</h1>
    //<a href="#">sample</a>
    //</div>

    //const FF1 = (props) => (
    //<div>
    //<h2>Hello, my name is {props.name}  I am Age {props.age}</h2>
    // <p>Lorem ipsum dolor sit.</p>
    //<a href="http://" target="_blank" rel="noopener
    // noreferrer">Sample Link</a>
    //</div>
    //);
    //ReactDOM.render(<FF1 name="FF1" age={"22"}/>, document.getElementById("app"));

    //React callback function


    // parent component
    function Calculator() {


    // useState
    // const [display, setDisplay] = React.useState('0');
    //useState returns an array with 2 elements, the first element is the current state value, the second element is a function that allows you to update the state value
    const [calc, setCalc] = React.useState({
        current: '0',
        total: '0',
        isInitial: true,
        preOp: ''
    });

        function handleNumber(value){
        // alert(value);
        let newValue = value;
        if(!calc.isInitial){
            newValue = calc.current + value;
        }
        setCalc({
            current: newValue, 
            total: calc.total, 
            isInitial: false, 
            preOp: calc.preOp
        });
    }
    //handle clear button
    function handleClear(){
        setCalc({current: '0', insInitial: true});
    }
     // function for handling the operator
     function handleOperator(value){
        let total = doCalculation();
        setCalc({
            current: total.toString(),
            total: total.toString,
            isInitial: true,
            preOp: value
        })
    // function for calculation
    function doCalculation(){
        let total = parseFloat(calc.total);
        switch(calc.preOp){
            case '*':
                total = total * parseFloat(calc.current);
                break;
            case '/':
                total = total / parseFloat(calc.current);
                break;
            case '+':
                total = total + parseFloat(calc.current);
                break;
            case '-':
                total = total - parseFloat(calc.current);
                break;
            default:
                total = parseFloat(calc.current);
        }
        return total;
    }
  

        //const [display, setDisplay] = REact.useState('0');

        // useState
        const [calc, setCalc] = React.useState({
            current: '0',
            total: '0',
            insInitial: true,
            preOp: ''
        });


        return (
            <div className="Calculator">
                <div className="display">{calc.current}</div>

                <CalcButton value='7' onClick={handleNumber} />
                <CalcButton value='8' onClick={handleNumber} />
                <CalcButton value='9' onClick={handleNumber} />
                <CalcButton className="operator" value="+" onClick={handleOperator}/>


                <CalcButton value='4' onClick={handleNumber} />
                <CalcButton value='5' onClick={handleNumber} />
                <CalcButton value='6' onClick={handleNumber} />
                <CalcButton className="operator" value="-" onClick={handleOperator}/>


                <CalcButton value='1' onClick={handleNumber} />
                <CalcButton value='2' onClick={handleNumber} />
                <CalcButton value='3' onClick={handleNumber} />
                <CalcButton className="operator" value="*" onClick={handleOperator}/>


                <CalcButton value="C" onClick={handleClear}/>
                <CalcButton value='0' onClick={handleNumber} />
                <CalcButton className="operator" value="=" onClick={handleOperator}/>

                <CalcButton className="operator" value="/"onClick={handleOperator}/>

            </div>
        )
    }
}

    //Child Component
    function CalcButton(props) {
        return (
            <button className={props.className} onClick={() => props.onClick(props.value)}>{props.value}</button>
        );

    }
    ReactDOM.render(<div className="app-container"><Calculator /></div>, document.getElementById("app"));
</script>